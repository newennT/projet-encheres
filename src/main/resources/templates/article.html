<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        th:replace="~{/layouts/layout :: layout(
            pageContent=~{:: .main-content},
            pageTitle=~{:: title},
            additionalCss=~{}
        )}"
>

<title>Enregistrer un article</title>


<body>
    <main class="main-content">
        <a data-th-href="@{/}">Accueil</a>
        <h1 style="color:red" data-th-text="${erreur}"/>

        <h1>Vendre un article</h1>

        <form data-th-action="@{/article}" data-th-object="${article}" enctype="multipart/form-data" method="post" class="nouvel-article">
            <div class="infos-article">
            <label for="nom_article">Nom</label>
            <input type="text" id="nom_article" data-th-field="*{nom_article}"/>
            <span data-th-if="${#fields.hasErrors('nom_article')}" data-th-errors="*{nom_article}"/> <br>

            <label for="description">Description</label>
            <input type="text" id="description" data-th-field="*{description}"/>
            <span data-th-if="${#fields.hasErrors('description')}" data-th-errors="*{description}"></span> <br>

            Categorie
            <select name="categorie">
                <option data-th-each="categories : ${lstCategories}"
                        data-th-text="${categories.libelle}" data-th-value="${categories.no_categorie}"></option>
            </select> <br>

            <label for="prix_initial">Mise a prix</label>
            <input type="number" id="prix_initial" data-th-field="*{prix_initial}"/>
            <span data-th-if="${#fields.hasErrors('prix_initial')}" data-th-errors="*{prix_initial}"></span> <br>

            <label for="date_debut_encheres">Debut des encheres</label>
            <input type="date" id="date_debut_encheres" data-th-field="*{date_debut_encheres}"/>
            <span data-th-if="${#fields.hasErrors('date_debut_encheres')}" data-th-errors="*{date_debut_encheres}"></span> <br>

            <label for="date_fin_encheres">Fin des encheres</label>
            <input type="date" id="date_fin_encheres" data-th-field="*{date_fin_encheres}"/>
            <span data-th-if="${#fields.hasErrors('date_fin_encheres')}" data-th-errors="*{date_fin_encheres}"></span> <br>


                <div class="retrait-article">
                    <h2>Retrait de l'article</h2>

                    <label for="rue">Rue</label>
                    <input type="text" name="rue" id="rue" data-th-field="*{retrait.rue}">
                    <span data-th-if="${#fields.hasErrors('retrait.rue')}" data-th-errors="*{retrait.rue}"></span> <br>


                    <label for="code_postal">Code postal</label>
                    <input type="text" name="code_postal" id="code_postal" data-th-field="*{retrait.code_postal}">
                    <span data-th-if="${#fields.hasErrors('retrait.code_postal')}" data-th-errors="*{retrait.code_postal}"></span> <br>


                    <label for="ville">Ville</label>
                    <input type="text" name="ville" id="ville" data-th-field="*{retrait.ville}">
                    <span data-th-if="${#fields.hasErrors('retrait.ville')}" data-th-errors="*{retrait.ville}"></span> <br>

                </div>


                <button type ="submit" value="ajouter" class="btn-primary btn-primary-fondblanc">Ajouter</button>
                <button class="btn-secondary"><a data-th-href="@{/}">Annuler</a></button>
            </div>
        </form>


    </main>

</body>
</html>